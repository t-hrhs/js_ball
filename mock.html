<html>
    <head>
        <meta http-equiv="content-type" content="text/html"; charset=UTF-8>
        <title>とりあえずボールを動かす</title>
    </head>
    <body bgcolor="green">
    <script type='text/javascript'>
        function Ball(element_id) {
            this.myObj = document.getElementById(element_id).style;
            this.ball_width = 100;
            this.ball_height = 50;
            this.x = 0;
            this.y = 0;
            this.xs = document.body.scrollLeft;
            this.ys = document.body.scrollTop;
            this.xe = this.xs + document.body.clientWidth - this.ball_width;
            this.ye = this.ys + document.body.clientHeight - this.ball_height;
        }
        Ball.prototype.move = function() {
            //玉の移動角度(方向)を決める
            if (this.x<=this.xs) myAddX = Math.floor(Math.random()*20)+10;
            if (this.y<=this.ys) myAddY = Math.floor(Math.random()*20)+10;
            if (this.x>=this.xe) myAddX = (Math.floor(Math.random()*20)+10)*(-1);
            if (this.y>=this.ye) myAddY = (Math.floor(Math.random()*20)+10)*(-1);
            // 玉を移動
            this.x = this.x + myAddX;
            if      (this.x < this.xs) this.x=this.xs;
            else if (this.x > this.xe) this.x=this.xe;
            this.y = this.y + myAddY;
            if      (this.y < this.ys) this.y=this.ys;
            else if (this.y > this.ye) this.y=this.ye;
            this.myObj.left = this.x;
            this.myObj.top  = this.y;
        }
        </script>
        <div id='tama' style="position:absolute"><img src='img/carrot.png' width='100' height='50'></div>
        <script type="text/javascript">
            var ball = new Ball('tama');
            setInterval( "ball.move()", 100 ); // 0.1秒周期に動かす
        </script>
    </body>
</html>
